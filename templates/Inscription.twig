<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription</title>
    <link rel="stylesheet" href="{{ routes.bootstrap }}">
    <link rel="stylesheet" href="{{ routes.css }}/styles.scss">
    <link rel="icon" href="{{ routes.images }}/logo.ico" type="image/x-icon">
</head>
<body class="d-flex flex-column">
    <div class="navbar navbar-dark bg-dark box-shadow fixed-top">
        <div class="container d-flex justify-content-between">
            <a href="?page=home" class="navbar-brand d-flex align-items-center {% if current_page == 'home' %}active{% endif %}">
                <img src="{{ routes.images }}/home.png" width="25" height="25">
                <p class="mb-0">Accueil</p>
            </a>

            <a href="?page=entreprise" class="navbar-brand d-flex align-items-center {% if current_page == 'entreprise' %}active{% endif %}">
                <img src="{{ routes.images }}/entreprise.png" width="25" height="25" class="me-2">
                <p class="mb-0">Entreprise</p>
            </a>

            <a href="?page=stagiaire" class="navbar-brand d-flex align-items-center {% if current_page == 'stagiaire' %}active{% endif %}">
                <img src="{{ routes.images }}/stage.png" width="25" height="25" class="me-2">
                <p class="mb-0">Stagiaire</p>
            </a>

            <a href="?page=inscription" class="navbar-brand d-flex align-items-center {% if current_page == 'inscription' %}active{% endif %}">
                <img src="{{ routes.images }}/inscrire.png" width="25" height="25" class="me-2">
                <strong>Inscription</strong>
            </a>

            <a href="?page=aide" class="navbar-brand d-flex align-items-center {% if current_page == 'aide' %}active{% endif %}">
                <img src="{{ routes.images }}/aide.png" width="25" height="25" class="me-2">
                <p class="mb-0">Aide</p>
            </a>

            <a href="?page=deconnexion" class="navbar-brand d-flex align-items-center">
                <img src="{{ routes.images }}/deconnexion.png" width="25" height="25" class="me-2">
                <p class="mb-0">Déconnexion</p>
            </a>
        </div>
    </div>

    <header class="mt-5 pt-3">
        <div class="container text-center">
            <h1>Stage BTS</h1>
        </div>
    </header>

    <main class="container" style="padding-bottom: 60px">
        {% if error %}
            <div class="alert alert-danger">{{ error }}</div>
        {% endif %}
        {% if success %}
            <div id="success-message" class="alert alert-success">
                Étudiant inscrit avec succès!
                <button type="button" class="btn btn-success" onclick="hideSuccessMessage()">Fermer</button>
            </div>
        {% endif %}
        <form id="inscriptionForm" method="POST" action="?page=inscription">
            <h2>Contacts</h2>
            <div class="form-group">
                <label for="entreprise">Entreprise*</label>
                <select id="entreprise" name="entreprise" class="form-control" required>
                    {% for entreprise in entreprises %}
                        <option value="{{ entreprise.num_entreprise }}">{{ entreprise.raison_sociale }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="etudiant">Étudiant*</label>
                <select id="etudiant" name="etudiant" class="form-control" required>
                    {% for etudiant in etudiants %}
                        <option value="{{ etudiant.num_etudiant }}">{{ etudiant.nom_etudiant }} {{ etudiant.prenom_etudiant }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="professeur">Professeur*</label>
                <select id="professeur" name="professeur" class="form-control" required>
                    {% for professeur in professeurs %}
                        <option value="{{ professeur.num_prof }}">{{ professeur.nom_prof }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="date_debut">Date de début*</label>
                <input type="date" id="date_debut" name="date_debut" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="date_fin">Date de fin*</label>
                <input type="date" id="date_fin" name="date_fin" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="type">Type*</label>
                <select id="type" name="type" class="form-control" required>
                    <option value=""></option>
                    <option value="Stage">Stage</option>
                    <option value="Alternance">Alternance</option>
                </select>
            </div>
            <div class="form-group">
                <label for="description">Description*</label>
                <textarea id="description" name="description" class="form-control" required></textarea>
            </div>
            <div class="form-group">
                <label for="observations">Observations</label>
                <textarea id="observations" name="observations" class="form-control"></textarea>
            </div>
            <div class="mb-3" style="text-align: center; background-color: #ff6161; color: white; padding: 10px;">
                <p>Les champs désignés par un * sont obligatoires</p>
            </div>
            <button type="submit" class="btn btn-primary">Inscrire</button>
        </form>
    </main>

    <footer class="bg-dark text-white py-3 mt-auto fixed-bottom">
        <div class="container d-flex justify-content-between">
            <div>
                &copy; 2023-2024 Polytech Lyon 3A Info
            </div>
            <div>
                Plateforme créée par : MESSAOUDI Amin 12108951, NADIR Ayoub 12101440
            </div>
        </div>
    </footer>

    <script src="{{ routes.js }}/javascript.js"></script>
</body>
</html>
